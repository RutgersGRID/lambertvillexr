import{j as V,a as I,k as W,l as Y,m as j,p as G,o as c,e as v,q as L,r,u as s,b as t,t as x,s as w,v as A,w as O,f as M,x as J,y as K,h as q,F as z,z as Q,_ as E,A as X,c as D,B as Z,C as ee,D as te,E as oe}from"./entry.2d82f471.js";const ne=I({props:{ui:{type:Object,default:()=>W.ui.skeleton}},setup(o){const d=Y();return{ui:j(()=>G({},o.ui,d.ui.skeleton))}}});function se(o,d,p,b,h,y){return c(),v("div",{class:L([o.ui.base,o.ui.background,o.ui.rounded])},null,2)}const ae=V(ne,[["render",se]]),ie={class:"flex flex-col items-center gap-4"},re={key:0,class:"font-bold text-white"},le={key:1,class:"px-4 w-full max-w-sm text-justify text-white"},ue=I({__name:"EnterASceneOverlay",props:{startButtonText:null,startTitle:null,startDescription:null,alwaysShowOverlay:{type:Boolean}},emits:["sceneEntered"],setup(o,{emit:d}){const p=o,b=r(!1),h=r(!0),y=r(p.startButtonText??"Start Experience");function l(_=!0){d("sceneEntered",_),b.value=!0,_?setTimeout(()=>{h.value=!1},300):h.value=!1}function g(){return typeof DeviceOrientationEvent<"u"&&DeviceOrientationEvent.requestPermission}function k(){if(!g()){l();return}DeviceOrientationEvent.requestPermission().then(function(_){_==="granted"&&l()})}return!p.alwaysShowOverlay&&!g()&&l(!1),(_,S)=>{const u=J;return s(h)?(c(),v("div",{key:0,class:L(["absolute h-full w-full flex justify-center items-center bg-opacity-75 bg-black z-10 transition-opacity duration-200",{"opacity-0":s(b)}])},[t("div",ie,[o.startTitle?(c(),v("div",re,x(o.startTitle),1)):w("",!0),o.startDescription?(c(),v("div",le,x(o.startDescription),1)):w("",!0),A(u,{icon:"i-heroicons-play",size:"xl",onClick:k},{default:O(()=>[M(x(s(y)),1)]),_:1})])],2)):w("",!0)}}}),ce={},de={id:"cursor",color:"white",rayOrigin:"mouse",raycaster:"objects: .clickable",fuseTimeout:"500",animation__click:"property: scale; startEvents: click; easing: easeInCubic; dur: 150; from: 0.1 0.1 0.1; to: 1 1 1",animation__fusing:"property: scale; startEvents: fusing; easing: easeInCubic; dur: 1500; from: 1 1 1; to: 0.1 0.1 0.1",animation__mouseleave:"property: scale; startEvents: mouseleave; easing: easeInCubic; dur: 500; to: 1 1 1"};function me(o,d){return c(),v("a-cursor",de)}const fe=V(ce,[["render",me]]);function _e(o){const d=K();return console.log("rewsulting path ",d.app.baseURL+o),d.app.baseURL+o}const ve={class:"h-full w-full"},pe={class:"relative w-full xs:max-w-xs text-white"},be=t("div",{class:"absolute h-full w-full bg-black opacity-75 xs:rounded-br-lg"},null,-1),he={class:"relative p-4"},ye={class:"font-bold"},ge={class:"font-regular mt-2"},we={key:0,class:"font-regular mt-2"},ke={class:"relative h-1 mt-4 flex flex-row justify-between items-center gap-2"},Ee={class:"h-full flex-1 rounded-full bg-gray-400 overflow-hidden"},xe=["src"],Se=t("a-sun-sky",{material:"sunPosition: -0.2 4 -5"},null,-1),Le={id:"looking-around",position:"0 1.6 0"},Ae={id:"clicking"},Te={id:"finish"},Ie={position:"0 1.6 0","look-controls":"","wasd-controls":"enabled:false"},Ce=I({__name:"AFrameTutorial",props:{forceTutorial:{type:Boolean}},emits:["finished"],setup(o,{emit:d}){const p=o;let b=!1;p.forceTutorial?b=!1:b=localStorage.getItem("tutorialFinished")==="true",q(()=>{b&&d("finished")});async function h(){await E(()=>import("./aframe-sun-sky.fcbe487e.js"),[],import.meta.url)}const y=r(),l=r(),g=r(),k=r(),_=r(),S=r(),u=[{name:"Looking Around",description:'The circle at the center of your screen is your "cursor", which points to where you are looking. You can look around by rotating your device around on mobile or by clicking and dragging the screen on a computer.',subSegments:[{instruction:"Look at the ball above you",init:n=>{const e=y.value;if(!e)return;e.setAttribute("visible",!0);const i=()=>{e.removeEventListener("mouseenter",i),n()};e.addEventListener("mouseenter",i)}},{instruction:"Look at the ball to the left of you",init:n=>{const e=k.value;if(!e)return;e.setAttribute("visible",!0);const i=()=>{e.removeEventListener("mouseenter",i),n()};e.addEventListener("mouseenter",i)}},{instruction:"Look at the ball to the right of you",init:n=>{const e=g.value;if(!e)return;e.setAttribute("visible",!0);const i=()=>{e.removeEventListener("mouseenter",i),n()};e.addEventListener("mouseenter",i)}},{instruction:"Look at the ball below you",init:n=>{const e=l.value;if(!e)return;e.setAttribute("visible",!0);const i=()=>{e.removeEventListener("mouseenter",i),n()};e.addEventListener("mouseenter",i)}}]},{name:"Clicking",description:'To "click" on an object, move your cursor over to object, and then continue looking at the object until the cursor shrinks.',subSegments:[{instruction:'Look at the video and "click" on the play button to start playing the video',init:n=>{const e=_.value;if(!e)return;e.setAttribute("visible",!0);let i=setInterval(()=>{e.components.video.isVideoPlaying&&(n(),clearInterval(i))},1e3)}},{instruction:'Then look away and then back at the video and "click" on the pause button to pause the video.',init:n=>{const e=_.value;if(!e)return;let i=setInterval(()=>{e.components.video.isVideoPlaying||(n(),clearInterval(i),e==null||e.setAttribute("visible",!1))},1e3)}}]},{name:"Finish",description:"You're now done with the tutorial!",subSegments:[{instruction:'Please look at and "click" on the play button to exit.',init:n=>{const e=S.value;e&&(e.setAttribute("visible",!0),e.classList.add("clickable"),e.addEventListener("click",()=>{n()}))}}]}],m=r(0),a=j(()=>u[m.value]),f=r(0),T=r(!1);async function C(){for(m.value=0;m.value<u.length;){for(f.value=0;f.value<a.value.subSegments.length;){const n=a.value.subSegments[f.value];await new Promise(e=>{n.init(()=>e(void 0))}),f.value++}m.value++}localStorage.setItem("tutorialFinished","true"),d("finished")}function U(){T.value=!0,C()}return(n,e)=>{var P,B,F,$,R;const i=fe,N=Pe;return c(),v("div",ve,[t("div",{class:L(["absolute h-full w-full z-10 opacity-0 transition-all duration-200 bg-transparent pointer-events-none",{"opacity-100":s(T)}])},[t("div",pe,[be,t("div",he,[t("div",ye,x((P=s(a))==null?void 0:P.name),1),t("div",ge,x((B=s(a))==null?void 0:B.description),1),(F=s(a))!=null&&F.subSegments[s(f)]?(c(),v("div",we,x(($=s(a))==null?void 0:$.subSegments[s(f)].instruction),1)):w("",!0),t("div",ke,[(c(!0),v(z,null,Q((R=s(a))==null?void 0:R.subSegments.length,H=>(c(),v("div",Ee,[t("div",{class:L(["h-full w-0 bg-white transition-all duration-200",{"w-full":H<=s(f)}])},null,2)]))),256))])])])],2),A(N,{"load-systems":h,"hide-tutorial":!0,"start-button-text":"Start Tutorial","start-title":"Welcome","start-description":"This is a tutorial on how to interact with an AR experience. These experiences are audio and visual so make sure to have your volume on!","always-show-overlay":!0,onSceneEntered:U},{default:O(()=>[t("a-assets",null,[t("video",{id:"avocado-video",preload:"auto",width:"160",height:"90",loop:"true",src:("usePublic"in n?n.usePublic:s(_e))("assets/videos/avocado.mp4"),crossorigin:"anonymous"},null,8,xe)]),Se,t("a-entity",Le,[t("a-sphere",{ref_key:"ballAbove",ref:y,position:"0 10 -5",visible:"false",class:"clickable",animation__mouseenter:"property: scale; startEvents: mouseenter; easing: easeInCubic; dur: 150; to: 0 0 0"},null,512),t("a-sphere",{ref_key:"ballLeft",ref:k,position:"-10 0 -5",visible:"false",class:"clickable",animation__mouseenter:"property: scale; startEvents: mouseenter; easing: easeInCubic; dur: 150; to: 0 0 0"},null,512),t("a-sphere",{ref_key:"ballRight",ref:g,position:"10 0 -5",visible:"false",class:"clickable",animation__mouseenter:"property: scale; startEvents: mouseenter; easing: easeInCubic; dur: 150; to: 0 0 0"},null,512),t("a-sphere",{ref_key:"ballBelow",ref:l,position:"0 -10 -5",visible:"false",class:"clickable",animation__mouseenter:"property: scale; startEvents: mouseenter; easing: easeInCubic; dur: 150; to: 0 0 0"},null,512)]),t("a-entity",Ae,[t("a-playback-video",{ref_key:"video",ref:_,src:"#avocado-video",position:"0 0 -10",rotation:"0 0 0",visible:"false"},null,512)]),t("a-entity",Te,[t("a-image",{ref_key:"playButton",ref:S,src:"https://res.cloudinary.com/dxbh0pppv/image/upload/c_scale,h_512,q_10/v1471016296/play_wvmogo.png",animation__mouseenter_scale:"property: scale; startEvents: mouseenter; easing: easeInCubic; dur: 200; to: 1.1 1.1 1.1",animation__mouseenter_color:"property: material.color; startEvents: mouseenter; easing: easeInCubic; dur: 200; to: #C2C2C2",animation__mouseleave_scale:"property: scale; startEvents: mouseleave; easing: easeInCubic; dur: 200; to: 1 1 1",animation__mouseleave_color:"property: material.color; startEvents: mouseleave; easing: easeInCubic; dur: 200; to: #FFFFFF",position:"0 1.6 -5",visible:"false"},null,512)]),t("a-camera",Ie,[A(i)])]),_:1})])}}}),De={class:"absolute h-full w-full flex justify-center items-center text-gray-400 dark:text-gray-500"},Oe=t("div",{class:"ml-4 text-4xl font-bold"},"LOADING...",-1),Pe=I({__name:"AFrameScene",props:{loadSystems:{type:Function},attributes:null,startButtonText:null,startTitle:null,startDescription:null,hideTutorial:{type:Boolean},alwaysShowOverlay:{type:Boolean}},emits:["sceneEntered"],setup(o,{emit:d}){const p=o,b=r(!1),h=r(!1),y=r(!p.hideTutorial),l=r();let g=!1,k=!1;X(l,(u,m)=>{u!=null&&u.addEventListener("loaded",()=>{if(!l.value)return;const a=l.value.querySelector("[camera]");a&&(a.getAttribute("look-controls").enabled&&(g=!0,a.setAttribute("look-controls","enabled",!1)),a.getAttribute("wasd-controls").enabled&&(k=!0,a.setAttribute("wasd-controls","enabled",!1)),u.pause(),h.value=!0)})}),q(async()=>{await E(()=>import("./aframe-master.5ce7d00f.js").then(m=>m.a),[],import.meta.url);async function u(){await E(()=>import("./video.1c6f09d1.js"),["./video.1c6f09d1.js","./component.decorator.a66a1cbe.js","./aframe-master.5ce7d00f.js","./test-helpers.4564543a.js"],import.meta.url),await E(()=>import("./video-controls.95c838c8.js"),["./video-controls.95c838c8.js","./test-helpers.4564543a.js","./component.decorator.a66a1cbe.js","./aframe-master.5ce7d00f.js"],import.meta.url),await E(()=>import("./style-video-controls.3ac9ccff.js"),["./style-video-controls.3ac9ccff.js","./aframe-master.5ce7d00f.js","./system.decorator.c303de3e.js","./test-helpers.4564543a.js"],import.meta.url),await E(()=>import("./ball-scene.f63403ab.js"),["./ball-scene.f63403ab.js","./component.decorator.a66a1cbe.js","./aframe-master.5ce7d00f.js","./system.decorator.c303de3e.js","./test-helpers.4564543a.js"],import.meta.url),await E(()=>import("./animated-cursor.848fcc7d.js"),[],import.meta.url)}await u(),p.loadSystems&&await p.loadSystems(),b.value=!0});function _(u){if(!l.value)return;const m=l.value.querySelector("[camera]");if(!m)return;g&&m.setAttribute("look-controls","enabled",!0),k&&m.setAttribute("wasd-controls","enabled",!0);const a=l.value.querySelectorAll("video");if(u)for(let f of a)f.play(),f.pause();d("sceneEntered")}function S(){y.value=!1}return(u,m)=>{const a=ae,f=te,T=ue,C=oe;return c(),D(C,null,{default:O(()=>[s(y)?w("",!0):(c(),v(z,{key:0},[t("div",{class:L(["absolute h-full w-full z-20 transition ease-in-out duration-1000 bg-gray-200 dark:bg-gray-900 pointer-events-none",{"opacity-0":s(h)}])},[A(a,{class:"absolute h-full w-full"}),t("div",De,[A(f,{name:"i-heroicons-arrow-path",class:"animate-spin text-4xl"}),Oe])],2),s(h)?(c(),D(T,{key:0,"start-button-text":o.startButtonText,"start-title":o.startTitle,"start-description":o.startDescription,"always-show-overlay":o.alwaysShowOverlay,onSceneEntered:_},null,8,["start-button-text","start-title","start-description","always-show-overlay"])):w("",!0),s(b)?(c(),v("a-scene",Z({key:1,"device-orientation-permission-ui":"enabled: false",ref_key:"scene",ref:l},o.attributes,{embedded:"",class:"absolute w-full h-full","loading-screen":"enabled: false"}),[ee(u.$slots,"default")],16)):w("",!0)],64)),s(y)?(c(),D(Ce,{key:1,class:"absolute",onFinished:S})):w("",!0)]),_:3})}}});export{Pe as _,Ce as a,_e as u};
