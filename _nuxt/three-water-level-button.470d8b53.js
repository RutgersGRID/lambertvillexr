var b=Object.defineProperty;var c=(i,t,e)=>t in i?b(i,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):i[t]=e;var l=(i,t,e)=>(c(i,typeof t!="symbol"?t+"":t,e),e);import{u}from"./AFrameScene.vue.40f096a1.js";import{B as v,c as p}from"./component.decorator.a66a1cbe.js";import"./aframe-master.5ce7d00f.js";import"./test-helpers.473cda21.js";import{d as h}from"./document.6adaffbf.js";import"./button.16de674c.js";import"./entry.b778b5ff.js";var w=Object.defineProperty,d=Object.getOwnPropertyDescriptor,f=(i,t,e,s)=>{for(var r=s>1?void 0:s?d(t,e):t,a=i.length-1,n;a>=0;a--)(n=i[a])&&(r=(s?n(t,e,r):n(r))||r);return s&&r&&w(t,e,r),r};AFRAME.THREE;var o;let m=(o=class extends v{constructor(){super(...arguments);l(this,"textButton");l(this,"titleElem")}init(){this.textButton=h.createEntity("a-text-button"),this.textButton.setAttribute("label",this.data.waterLevel.toFixed(2)+" "+this.getUnitAbbreviation()),this.textButton.setAttribute("text","color","white"),this.textButton.setAttribute("text","wrapCount",10),this.textButton.setAttribute("src",u("assets/images/button.png")),this.textButton.setAttribute("width",1),this.textButton.setAttribute("height",1),this.textButton.addEventListener("click",()=>{var e;console.log("setting water level of contr ",this.data.waterLevel),(e=this.el.sceneEl)==null||e.setAttribute("three-water-controller",{waterLevel:this.getWaterLevelUnitAmount()})}),this.titleElem=h.createEntity("a-troika-text"),this.titleElem.setAttribute("font",u("assets/fonts/Raleway/Raleway-Black.json")),this.titleElem.setAttribute("width",1),this.titleElem.setAttribute("size",1*.5),this.titleElem.setAttribute("align","center"),this.titleElem.setAttribute("position",{x:0,y:1/2+.2,z:0}),this.el.appendChild(this.textButton),this.el.appendChild(this.titleElem)}update(){this.titleElem&&(console.log("button update",this.data),this.titleElem.setAttribute("value",this.data.title))}feetToMeters(t){return t*.3048}getWaterLevelUnitAmount(){switch(this.data.unit){case"feet":return this.feetToMeters(this.data.waterLevel);case"meter":return this.data.waterLevel}return 0}getUnitAbbreviation(){switch(this.data.unit){case"feet":return"ft";case"meter":return"m"}return""}},l(o,"schema",{waterLevel:{default:0},unit:{default:"feet"},title:{default:"title"}}),o);m=f([p("three-water-level-button")],m);AFRAME.registerPrimitive("a-three-water-level-button",{defaultComponents:{"three-water-level-button":{}},mappings:{"water-level":"three-water-level-button.waterLevel",unit:"three-water-level-button.unit",title:"three-water-level-button.title"}});export{m as ThreeWaterLevelButtonComponent};
