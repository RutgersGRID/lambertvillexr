import{j as R,a as I,k as H,l as W,m as j,p as G,o as c,e as f,q as L,r,u as a,b as t,t as x,s as w,v as A,w as O,f as M,x as J,h as q,F as z,y as K,_ as E,z as Q,c as D,A as X,B as Z,C as ee,D as te}from"./entry.86afce46.js";const oe=I({props:{ui:{type:Object,default:()=>H.ui.skeleton}},setup(o){const v=W();return{ui:j(()=>G({},o.ui,v.ui.skeleton))}}});function ne(o,v,p,h,b,y){return c(),f("div",{class:L([o.ui.base,o.ui.background,o.ui.rounded])},null,2)}const se=R(oe,[["render",ne]]),ae={class:"flex flex-col items-center gap-4"},ie={key:0,class:"font-bold text-white"},re={key:1,class:"px-4 w-full max-w-sm text-justify text-white"},le=I({__name:"EnterASceneOverlay",props:{startButtonText:null,startTitle:null,startDescription:null,alwaysShowOverlay:{type:Boolean}},emits:["sceneEntered"],setup(o,{emit:v}){const p=o,h=r(!1),b=r(!0),y=r(p.startButtonText??"Start Experience");function l(_=!0){v("sceneEntered",_),h.value=!0,_?setTimeout(()=>{b.value=!1},300):b.value=!1}function g(){return typeof DeviceOrientationEvent<"u"&&DeviceOrientationEvent.requestPermission}function k(){if(!g()){l();return}DeviceOrientationEvent.requestPermission().then(function(_){_==="granted"&&l()})}return!p.alwaysShowOverlay&&!g()&&l(!1),(_,S)=>{const u=J;return a(b)?(c(),f("div",{key:0,class:L(["absolute h-full w-full flex justify-center items-center bg-opacity-75 bg-black z-10 transition-opacity duration-200",{"opacity-0":a(h)}])},[t("div",ae,[o.startTitle?(c(),f("div",ie,x(o.startTitle),1)):w("",!0),o.startDescription?(c(),f("div",re,x(o.startDescription),1)):w("",!0),A(u,{icon:"i-heroicons-play",size:"xl",onClick:k},{default:O(()=>[M(x(a(y)),1)]),_:1})])],2)):w("",!0)}}}),ue={},ce={id:"cursor",color:"white",rayOrigin:"mouse",raycaster:"objects: .clickable",fuseTimeout:"500",animation__click:"property: scale; startEvents: click; easing: easeInCubic; dur: 150; from: 0.1 0.1 0.1; to: 1 1 1",animation__fusing:"property: scale; startEvents: fusing; easing: easeInCubic; dur: 1500; from: 1 1 1; to: 0.1 0.1 0.1",animation__mouseleave:"property: scale; startEvents: mouseleave; easing: easeInCubic; dur: 500; to: 1 1 1"};function de(o,v){return c(),f("a-cursor",ce)}const me=R(ue,[["render",de]]),_e=""+new URL("avocado.5b14996f.mp4",import.meta.url).href,fe={class:"h-full w-full"},ve={class:"relative w-full xs:max-w-xs text-white"},pe=t("div",{class:"absolute h-full w-full bg-black opacity-75 xs:rounded-br-lg"},null,-1),he={class:"relative p-4"},be={class:"font-bold"},ye={class:"font-regular mt-2"},ge={key:0,class:"font-regular mt-2"},we={class:"relative h-1 mt-4 flex flex-row justify-between items-center gap-2"},ke={class:"h-full flex-1 rounded-full bg-gray-400 overflow-hidden"},Ee=t("a-assets",null,[t("video",{id:"avocado-video",preload:"auto",width:"160",height:"90",loop:"true",src:_e,crossorigin:"anonymous"})],-1),xe=t("a-sun-sky",{material:"sunPosition: -0.2 4 -5"},null,-1),Se={id:"looking-around",position:"0 1.6 0"},Le={id:"clicking"},Ae={id:"finish"},Te={position:"0 1.6 0","look-controls":"","wasd-controls":"enabled:false"},Ie=I({__name:"AFrameTutorial",props:{forceTutorial:{type:Boolean}},emits:["finished"],setup(o,{emit:v}){const p=o;let h=!1;p.forceTutorial?h=!1:h=localStorage.getItem("tutorialFinished")==="true",q(()=>{h&&v("finished")});async function b(){await E(()=>import("./aframe-sun-sky.fcbe487e.js"),[],import.meta.url)}const y=r(),l=r(),g=r(),k=r(),_=r(),S=r(),u=[{name:"Looking Around",description:'The circle at the center of your screen is your "cursor", which points to you are looking. You can look around by rotating your device around.',desktopDescription:'The circle at the center of your screen is your "cursor", which points to where you are looking. You can look around by clicking and dragging the screen.',subSegments:[{instruction:"Look at the ball above you",init:i=>{const e=y.value;if(!e)return;e.setAttribute("visible",!0);const s=()=>{e.removeEventListener("mouseenter",s),i()};e.addEventListener("mouseenter",s)}},{instruction:"Look at the ball to the left of you",init:i=>{const e=k.value;if(!e)return;e.setAttribute("visible",!0);const s=()=>{e.removeEventListener("mouseenter",s),i()};e.addEventListener("mouseenter",s)}},{instruction:"Look at the ball to the right of you",init:i=>{const e=g.value;if(!e)return;e.setAttribute("visible",!0);const s=()=>{e.removeEventListener("mouseenter",s),i()};e.addEventListener("mouseenter",s)}},{instruction:"Look at the ball below you",init:i=>{const e=l.value;if(!e)return;e.setAttribute("visible",!0);const s=()=>{e.removeEventListener("mouseenter",s),i()};e.addEventListener("mouseenter",s)}}]},{name:"Clicking",description:'To "click" on an object, move your cursor over to object, and then continue looking at the object until the cursor shrinks.',subSegments:[{instruction:'Look at the video and "click" on the play button to start playing the video',init:i=>{const e=_.value;if(!e)return;e.setAttribute("visible",!0);let s=setInterval(()=>{e.components.video.isVideoPlaying&&(i(),clearInterval(s))},1e3)}},{instruction:'Then look away and then back at the video and "click" on the pause button to pause the video.',init:i=>{const e=_.value;if(!e)return;let s=setInterval(()=>{e.components.video.isVideoPlaying||(i(),clearInterval(s),e==null||e.setAttribute("visible",!1))},1e3)}}]},{name:"Finish",description:"You're now done with the tutorial!",subSegments:[{instruction:'Please look at and "click" on the play button to exit.',init:i=>{const e=S.value;e&&(e.setAttribute("visible",!0),e.classList.add("clickable"),e.addEventListener("click",()=>{i()}))}}]}],d=r(0),n=j(()=>u[d.value]),m=r(0),T=r(!1);async function C(){for(d.value=0;d.value<u.length;){for(m.value=0;m.value<n.value.subSegments.length;){const i=n.value.subSegments[m.value];await new Promise(e=>{i.init(()=>e(void 0))}),m.value++}d.value++}localStorage.setItem("tutorialFinished","true"),v("finished")}function N(){T.value=!0,C()}return(i,e)=>{var B,F,$,P,V;const s=me,U=Oe;return c(),f("div",fe,[t("div",{class:L(["absolute h-full w-full z-10 opacity-0 transition-all duration-200 bg-transparent pointer-events-none",{"opacity-100":a(T)}])},[t("div",ve,[pe,t("div",he,[t("div",be,x((B=a(n))==null?void 0:B.name),1),t("div",ye,x((F=a(n))==null?void 0:F.description),1),($=a(n))!=null&&$.subSegments[a(m)]?(c(),f("div",ge,x((P=a(n))==null?void 0:P.subSegments[a(m)].instruction),1)):w("",!0),t("div",we,[(c(!0),f(z,null,K((V=a(n))==null?void 0:V.subSegments.length,Y=>(c(),f("div",ke,[t("div",{class:L(["h-full w-0 bg-white transition-all duration-200",{"w-full":Y<=a(m)}])},null,2)]))),256))])])])],2),A(U,{"load-systems":b,"hide-tutorial":!0,"start-button-text":"Start Tutorial","start-title":"Welcome","start-description":"This is a tutorial on how to interact with an AR experience. These experiences are audio and visual so make sure to have your volume on!","always-show-overlay":!0,onSceneEntered:N},{default:O(()=>[Ee,xe,t("a-entity",Se,[t("a-sphere",{ref_key:"ballAbove",ref:y,position:"0 10 -5",visible:"false",class:"clickable",animation__mouseenter:"property: scale; startEvents: mouseenter; easing: easeInCubic; dur: 150; to: 0 0 0"},null,512),t("a-sphere",{ref_key:"ballLeft",ref:k,position:"10 0 -5",visible:"false",class:"clickable",animation__mouseenter:"property: scale; startEvents: mouseenter; easing: easeInCubic; dur: 150; to: 0 0 0"},null,512),t("a-sphere",{ref_key:"ballRight",ref:g,position:"-10 0 -5",visible:"false",class:"clickable",animation__mouseenter:"property: scale; startEvents: mouseenter; easing: easeInCubic; dur: 150; to: 0 0 0"},null,512),t("a-sphere",{ref_key:"ballBelow",ref:l,position:"0 -10 -5",visible:"false",class:"clickable",animation__mouseenter:"property: scale; startEvents: mouseenter; easing: easeInCubic; dur: 150; to: 0 0 0"},null,512)]),t("a-entity",Le,[t("a-playback-video",{ref_key:"video",ref:_,src:"#avocado-video",position:"0 0 -10",rotation:"0 0 0",visible:"false"},null,512)]),t("a-entity",Ae,[t("a-image",{ref_key:"playButton",ref:S,src:"https://res.cloudinary.com/dxbh0pppv/image/upload/c_scale,h_512,q_10/v1471016296/play_wvmogo.png",animation__mouseenter_scale:"property: scale; startEvents: mouseenter; easing: easeInCubic; dur: 200; to: 1.1 1.1 1.1",animation__mouseenter_color:"property: material.color; startEvents: mouseenter; easing: easeInCubic; dur: 200; to: #C2C2C2",animation__mouseleave_scale:"property: scale; startEvents: mouseleave; easing: easeInCubic; dur: 200; to: 1 1 1",animation__mouseleave_color:"property: material.color; startEvents: mouseleave; easing: easeInCubic; dur: 200; to: #FFFFFF",position:"0 1.6 -5",visible:"false"},null,512)]),t("a-camera",Te,[A(s)])]),_:1})])}}}),Ce={class:"absolute h-full w-full flex justify-center items-center text-gray-400 dark:text-gray-500"},De=t("div",{class:"ml-4 text-4xl font-bold"},"LOADING...",-1),Oe=I({__name:"AFrameScene",props:{loadSystems:{type:Function},attributes:null,startButtonText:null,startTitle:null,startDescription:null,hideTutorial:{type:Boolean},alwaysShowOverlay:{type:Boolean}},emits:["sceneEntered"],setup(o,{emit:v}){const p=o,h=r(!1),b=r(!1),y=r(!p.hideTutorial),l=r();let g=!1,k=!1;Q(l,(u,d)=>{u!=null&&u.addEventListener("loaded",()=>{if(!l.value)return;const n=l.value.querySelector("[camera]");n&&(n.getAttribute("look-controls").enabled&&(g=!0,n.setAttribute("look-controls","enabled",!1)),n.getAttribute("wasd-controls").enabled&&(k=!0,n.setAttribute("wasd-controls","enabled",!1)),u.pause(),b.value=!0)})}),q(async()=>{await E(()=>import("./aframe-master.5ce7d00f.js").then(d=>d.a),[],import.meta.url);async function u(){await E(()=>import("./video.1c6f09d1.js"),["./video.1c6f09d1.js","./component.decorator.a66a1cbe.js","./aframe-master.5ce7d00f.js","./test-helpers.4564543a.js"],import.meta.url),await E(()=>import("./video-controls.95c838c8.js"),["./video-controls.95c838c8.js","./test-helpers.4564543a.js","./component.decorator.a66a1cbe.js","./aframe-master.5ce7d00f.js"],import.meta.url),await E(()=>import("./style-video-controls.3ac9ccff.js"),["./style-video-controls.3ac9ccff.js","./aframe-master.5ce7d00f.js","./system.decorator.c303de3e.js","./test-helpers.4564543a.js"],import.meta.url),await E(()=>import("./ball-scene.f63403ab.js"),["./ball-scene.f63403ab.js","./component.decorator.a66a1cbe.js","./aframe-master.5ce7d00f.js","./system.decorator.c303de3e.js","./test-helpers.4564543a.js"],import.meta.url),await E(()=>import("./animated-cursor.848fcc7d.js"),[],import.meta.url)}await u(),p.loadSystems&&await p.loadSystems(),h.value=!0});function _(u){if(!l.value)return;const d=l.value.querySelector("[camera]");if(!d)return;g&&d.setAttribute("look-controls","enabled",!0),k&&d.setAttribute("wasd-controls","enabled",!0);const n=l.value.querySelectorAll("video");if(u)for(let m of n)m.play(),m.pause();v("sceneEntered")}function S(){y.value=!1}return(u,d)=>{const n=se,m=ee,T=le,C=te;return c(),D(C,null,{default:O(()=>[a(y)?w("",!0):(c(),f(z,{key:0},[t("div",{class:L(["absolute h-full w-full z-20 transition ease-in-out duration-1000 bg-gray-200 dark:bg-gray-900 pointer-events-none",{"opacity-0":a(b)}])},[A(n,{class:"absolute h-full w-full"}),t("div",Ce,[A(m,{name:"i-heroicons-arrow-path",class:"animate-spin text-4xl"}),De])],2),a(b)?(c(),D(T,{key:0,"start-button-text":o.startButtonText,"start-title":o.startTitle,"start-description":o.startDescription,"always-show-overlay":o.alwaysShowOverlay,onSceneEntered:_},null,8,["start-button-text","start-title","start-description","always-show-overlay"])):w("",!0),a(h)?(c(),f("a-scene",X({key:1,"device-orientation-permission-ui":"enabled: false",ref_key:"scene",ref:l},o.attributes,{embedded:"",class:"absolute w-full h-full","loading-screen":"enabled: false"}),[Z(u.$slots,"default")],16)):w("",!0)],64)),a(y)?(c(),D(Ie,{key:1,class:"absolute",onFinished:S})):w("",!0)]),_:3})}}});export{Oe as _,_e as a,Ie as b};
