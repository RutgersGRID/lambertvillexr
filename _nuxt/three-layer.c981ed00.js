var o=Object.defineProperty;var p=(a,e,r)=>e in a?o(a,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):a[e]=r;var n=(a,e,r)=>(p(a,typeof e!="symbol"?e+"":e,r),r);import{B as d,c}from"./component.decorator.a66a1cbe.js";import"./aframe-master.5ce7d00f.js";import"./test-helpers.473cda21.js";var f=Object.defineProperty,L=Object.getOwnPropertyDescriptor,v=(a,e,r,s)=>{for(var t=s>1?void 0:s?L(e,r):e,i=a.length-1,l;i>=0;i--)(l=a[i])&&(t=(s?l(e,r,t):l(t))||t);return s&&t&&f(e,r,t),t},y;let h=(y=class extends d{constructor(){super(...arguments);n(this,"isArMode",!1)}init(){var e,r;(e=this.el.sceneEl)==null||e.addEventListener("enter-vr",()=>{var s;(s=this.el.sceneEl)!=null&&s.is("ar-mode")&&(this.isArMode=!0,this.updateLayers())}),(r=this.el.sceneEl)==null||r.addEventListener("exit-vr",()=>{this.isArMode=!1,this.updateLayers()}),this.updateLayers()}updateLayers(){const e=r=>{r.layers.disableAll(),this.data.layers.forEach(s=>r.layers.enable(s)),this.isArMode?this.data.arLayers.forEach(s=>r.layers.enable(s)):this.data.desktopLayers.forEach(s=>r.layers.enable(s)),r.children.forEach(s=>e(s))};e(this.el.object3D)}},n(y,"schema",{layers:{type:"array"},arLayers:{type:"array"},desktopLayers:{type:"array"}}),y);h=v([c("three-layer")],h);export{h as ThreeLayerComopnent};
