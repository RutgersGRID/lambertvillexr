var _=Object.defineProperty;var d=(o,t,e)=>t in o?_(o,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):o[t]=e;var l=(o,t,e)=>(d(o,typeof t!="symbol"?t+"":t,e),e);import{u as g}from"./AFrameScene.vue.eb5ca6f4.js";import{c as m,B as h}from"./component.decorator.a66a1cbe.js";import{b as u}from"./aframe-master.5ce7d00f.js";import"./test-helpers.473cda21.js";import"./entry.7bd5e5ea.js";var A=Object.defineProperty,x=Object.getOwnPropertyDescriptor,C=(o,t,e,r)=>{for(var i=r>1?void 0:r?x(t,e):t,s=o.length-1,a;s>=0;s--)(a=o[s])&&(i=(r?a(t,e,i):a(i))||i);return r&&i&&A(t,e,i),i},n;let b=(n=class extends h{init(){this.update()}update(){this.el.hasAttribute("material")&&this.el.setAttribute("material","opacity",this.data.opacity);const o=t=>{Array.from(t.children).forEach(r=>{if(r!=this.el&&r.hasAttribute("group-opacity")&&r.getAttribute("group-opacity").inherit){r.setAttribute("group-opacity","opacity",this.data.opacity);return}r.hasAttribute("material")&&r.setAttribute("material","opacity",this.data.opacity),o(r)})};o(this.el)}},l(n,"schema",{opacity:{default:1},inherit:{default:!0}}),n);b=C([m("group-opacity")],b);var O=Object.defineProperty,P=Object.getOwnPropertyDescriptor,F=(o,t,e,r)=>{for(var i=r>1?void 0:r?P(t,e):t,s=o.length-1,a;s>=0;s--)(a=o[s])&&(i=(r?a(t,e,i):a(i))||i);return r&&i&&O(t,e,i),i},p;let f=(p=class extends h{init(){this.update()}update(){this.el.hasAttribute("material")&&this.el.setAttribute("material","color",this.data.color);const o=t=>{t.hasAttribute("material")&&t.setAttribute("material","color",this.data.color),Array.from(t.children).forEach(e=>{if(e!=this.el&&e.hasAttribute("group-color")&&e.getAttribute("group-color").inherit){e.setAttribute("group-color","color",this.data.color);return}o(e)})};o(this.el)}},l(p,"schema",{color:{type:"color"},inherit:{default:!0}}),p);f=F([m("group-color")],f);var E=Object.defineProperty,w=Object.getOwnPropertyDescriptor,j=(o,t,e,r)=>{for(var i=r>1?void 0:r?w(t,e):t,s=o.length-1,a;s>=0;s--)(a=o[s])&&(i=(r?a(t,e,i):a(i))||i);return r&&i&&E(t,e,i),i},c;let v=(c=class extends h{constructor(){super(...arguments);l(this,"animDuration",200);l(this,"animEasing","easeOutCubic")}init(){this.el.addEventListener("componentchanged",t=>{t.detail.name==="visible"&&this.updateClickable()}),this.updateClickable(),this.updateAnimations()}updateClickable(){const t=this.el.getAttribute("visible");this.el.classList.contains("clickable")?t||this.el.classList.remove("clickable"):t&&this.el.classList.add("clickable")}updateAnimations(t=this.animDuration,e=this.animEasing){this.el.setAttribute("animation__mouseenter_color",{property:"material.color",to:"#b0b0b0",startEvents:"mouseenter",dur:t,easing:e}),this.el.setAttribute("animation__mouseleave_color",{property:"material.color",to:"#FFFFFF",startEvents:"mouseleave",dur:t,easing:e}),this.el.setAttribute("animation__mouseclick_color",{property:"material.color",from:"#828282",to:"#b0b0b0",startEvents:"click",dur:t,easing:e}),this.el.hasAttribute("text")&&(console.log("setting text anim for",this.el),this.el.setAttribute("animation__mouseenter_textopacity",{property:"text.opacity",to:.8,startEvents:"mouseenter",dur:t,easing:e}),this.el.setAttribute("animation__mouseleave_textopacity",{property:"text.opacity",to:1,startEvents:"mouseleave",dur:t,easing:e}),this.el.setAttribute("animation__mouseclick_textopacity",{property:"text.opacity",from:.5,to:.8,startEvents:"click",dur:t,easing:e}))}},l(c,"dependencies",["geometry","material"]),c);v=j([m("button")],v);function y(){return u.utils.extendDeep({},u.primitives.getMeshMixin(),{defaultComponents:{geometry:{primitive:"plane"},material:{color:"#FFF",shader:"flat",side:"double",transparent:!0},button:{},"group-opacity":{},"group-color":{color:"#FFF"}},mappings:{height:"geometry.height",width:"geometry.width"}})}AFRAME.registerPrimitive("a-button",y());AFRAME.registerPrimitive("a-text-button",u.utils.extendDeep({},{defaultComponents:{text:{shader:"msdf",align:"center",font:g("assets/fonts/Raleway/Raleway-Bold.json"),baseline:"top",opacity:.5}},mappings:{label:"text.value","label-color":"text.color"}},y()));export{v as ButtonComponent};
