var p=Object.defineProperty;var v=(i,e,t)=>e in i?p(i,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):i[e]=t;var m=(i,e,t)=>(v(i,typeof e!="symbol"?e+"":e,t),t);import{B as h,c}from"./component.decorator.a66a1cbe.js";import"./aframe-master.5ce7d00f.js";import"./test-helpers.473cda21.js";import{d}from"./document.6adaffbf.js";var l=Object.defineProperty,f=Object.getOwnPropertyDescriptor,g=(i,e,t,s)=>{for(var r=s>1?void 0:s?f(e,t):e,o=i.length-1,a;o>=0;o--)(a=i[o])&&(r=(s?a(e,t,r):a(r))||r);return s&&r&&l(e,t,r),r};let n=class extends h{constructor(){super(...arguments);m(this,"videoElem");m(this,"videosphere")}init(){this.videoElem=d.createElement("video"),this.videosphere=d.createEntity("a-videosphere"),this.videosphere.id="camera-sky-sky",this.el.appendChild(this.videoElem),this.el.appendChild(this.videosphere),navigator.mediaDevices.getUserMedia&&navigator.mediaDevices.getUserMedia({video:!0}).then(e=>{!this.videoElem||!this.videosphere||(console.log("stream loaded"),this.videoElem.srcObject=e,this.videosphere.setAttribute("src","#camera-sky-sky"))}).catch(e=>{console.log("Something went wrong!")})}};n=g([c("camera-sky")],n);AFRAME.registerPrimitive("a-camera-sky",{defaultComponents:{"camera-sky":{}}});export{n as CameraSkyComponent};
