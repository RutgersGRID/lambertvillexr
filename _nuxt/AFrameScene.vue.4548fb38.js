import{i as Y,a as D,j as H,k as W,l as q,m as G,o as m,e as _,p as L,r as l,u as a,b as n,t as A,q as k,s as C,w as j,f as J,v as K,x as Q,y as z,F as $,z as X,_ as E,A as Z,c as I,B as ee,C as te,D as oe,E as ne}from"./entry.f035b624.js";const se=D({props:{ui:{type:Object,default:()=>H.ui.skeleton}},setup(t){const o=W();return{ui:q(()=>G({},t.ui,o.ui.skeleton))}}});function ae(t,o,r,f,v,g){return m(),_("div",{class:L([t.ui.base,t.ui.background,t.ui.rounded])},null,2)}const ie=Y(se,[["render",ae]]),re={class:"flex flex-col items-center gap-4"},le={key:0,class:"font-bold text-white"},ce={key:1,class:"px-4 w-full max-w-sm text-justify text-white"},ue=D({__name:"EnterASceneOverlay",props:{startButtonText:null,startTitle:null,startDescription:null,alwaysShowOverlay:{type:Boolean}},emits:["sceneEntered"],setup(t,{emit:o}){const r=t,f=l(!1),v=l(!0),g=l(r.startButtonText??"Start Experience");function c(b=!0){o("sceneEntered",b),f.value=!0,b?setTimeout(()=>{v.value=!1},300):v.value=!1}function w(){return typeof DeviceOrientationEvent<"u"&&DeviceOrientationEvent.requestPermission}function x(){if(!w()){c();return}DeviceOrientationEvent.requestPermission().then(function(b){b==="granted"&&c()})}return!r.alwaysShowOverlay&&!w()&&c(!1),(b,S)=>{const u=K;return a(v)?(m(),_("div",{key:0,class:L(["absolute h-full w-full flex justify-center items-center bg-opacity-75 bg-black z-10 transition-opacity duration-200",{"opacity-0":a(f)}])},[n("div",re,[t.startTitle?(m(),_("div",le,A(t.startTitle),1)):k("",!0),t.startDescription?(m(),_("div",ce,A(t.startDescription),1)):k("",!0),C(u,{icon:"i-heroicons-play",size:"xl",onClick:x},{default:j(()=>[J(A(a(g)),1)]),_:1})])],2)):k("",!0)}}});function de(t){return Q().app.baseURL+t}function me(){var t=function(){let o=!1;return function(r){(/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino|android|ipad|playbook|silk/i.test(r)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(r.substr(0,4)))&&(o=!0)}(navigator.userAgent||navigator.vendor||window.opera),o};return{isMobile:t()}}const pe={class:"h-full w-full"},fe={class:"relative w-full xs:max-w-xs text-white"},ve=n("div",{class:"absolute h-full w-full bg-black opacity-75 xs:rounded-br-lg"},null,-1),be={class:"relative p-4"},he={class:"font-bold"},_e={class:"font-regular mt-2"},ye={key:0,class:"font-regular mt-2"},ge={class:"relative h-1 mt-4 flex flex-row justify-between items-center gap-2"},we={class:"h-full flex-1 rounded-full bg-gray-400 overflow-hidden"},ke=["src"],xe=n("a-sun-sky",{material:"sunPosition: -0.2 4 -5"},null,-1),Ee={id:"looking-around",position:"0 1.6 0"},Se={id:"clicking"},Ae={id:"finish"},Le=n("a-camera",{position:"0 1.6 0","look-controls":"","wasd-controls":"enabled:false"},[n("a-animated-cursor")],-1),Te=D({__name:"AFrameTutorial",props:{forceTutorial:{type:Boolean}},emits:["finished"],setup(t,{emit:o}){const r=t;let f=!1;r.forceTutorial?f=!1:f=localStorage.getItem("tutorialFinished")==="true";const{isMobile:v}=me();z(()=>{f&&o("finished")});async function g(){await E(()=>import("./aframe-sun-sky.fcbe487e.js"),[],import.meta.url)}const c=l(),w=l(),x=l(),b=l(),S=l(),u=l(),h=[{name:"Looking Around",description:'The circle at the center of your screen is your "cursor", which points to where you are looking. You can look around by rotating your device around.',desktopDescription:'The circle at the center of your screen is your "cursor", which points to where you are looking. You can look around by clicking and dragging the screen with your mouse.',subSegments:[{instruction:"Look at the ball above you",init:s=>{const e=c.value;if(!e)return;e.setAttribute("visible",!0),e.classList.add("clickable");const i=()=>{e.removeEventListener("mouseenter",i),s()};e.addEventListener("mouseenter",i)}},{instruction:"Look at the ball to the left of you",init:s=>{const e=b.value;if(!e)return;e.setAttribute("visible",!0),e.classList.add("clickable");const i=()=>{e.removeEventListener("mouseenter",i),s()};e.addEventListener("mouseenter",i)}},{instruction:"Look at the ball to the right of you",init:s=>{const e=x.value;if(!e)return;e.setAttribute("visible",!0),e.classList.add("clickable");const i=()=>{e.removeEventListener("mouseenter",i),s()};e.addEventListener("mouseenter",i)}},{instruction:"Look at the ball below you",init:s=>{const e=w.value;if(!e)return;e.setAttribute("visible",!0),e.classList.add("clickable");const i=()=>{e.removeEventListener("mouseenter",i),s()};e.addEventListener("mouseenter",i)}}]},{name:"Clicking",description:'To "click" on an object, move your cursor over to object, and then continue looking at the object until the cursor shrinks.',desktopDescription:'To "click" on an object, move your cursor over to object, and then left click your mouse.',subSegments:[{instruction:'Look at the video and "click" on the play button to start playing the video',init:s=>{const e=S.value;if(!e)return;e.setAttribute("visible",!0);let i=setInterval(()=>{e.components.video.isVideoPlaying&&(s(),clearInterval(i))},1e3)}},{instruction:'Then look away and then back at the video and "click" on the pause button to pause the video.',init:s=>{const e=S.value;if(!e)return;let i=setInterval(()=>{e.components.video.isVideoPlaying||(s(),clearInterval(i),e==null||e.setAttribute("visible",!1))},1e3)}}]},{name:"Finish",description:"You're now done with the tutorial!",subSegments:[{instruction:'Please look at and "click" on the play button to exit.',init:s=>{const e=u.value;e&&(e.setAttribute("visible",!0),e.classList.add("clickable"),e.addEventListener("click",()=>{s()}))}}]}],d=l(0),p=q(()=>h[d.value]),y=l(0),T=l(!1);async function V(){for(d.value=0;d.value<h.length;){for(y.value=0;y.value<p.value.subSegments.length;){const s=p.value.subSegments[y.value];await new Promise(e=>{s.init(()=>e(void 0))}),y.value++}d.value++}localStorage.setItem("tutorialFinished","true"),o("finished")}function N(){T.value=!0,V()}function U(s){return s?s.desktopDescription&&!v?s.desktopDescription:s.description:""}return(s,e)=>{var B,P,O,F;const i=qe;return m(),_("div",pe,[n("div",{class:L(["absolute h-full w-full z-10 opacity-0 transition-all duration-200 bg-transparent pointer-events-none",{"opacity-100":a(T)}])},[n("div",fe,[ve,n("div",be,[n("div",he,A((B=a(p))==null?void 0:B.name),1),n("div",_e,A(U(a(p))),1),(P=a(p))!=null&&P.subSegments[a(y)]?(m(),_("div",ye,A((O=a(p))==null?void 0:O.subSegments[a(y)].instruction),1)):k("",!0),n("div",ge,[(m(!0),_($,null,X((F=a(p))==null?void 0:F.subSegments.length,M=>(m(),_("div",we,[n("div",{class:L(["h-full w-0 bg-white transition-all duration-200",{"w-full":M<=a(y)}])},null,2)]))),256))])])])],2),C(i,{"load-systems":g,"hide-tutorial":!0,"start-button-text":"Start Tutorial","start-title":"Welcome","start-description":"This is a tutorial on how to interact with an AR experience. These experiences are audio and visual so make sure to have your volume on!","always-show-overlay":!0,onSceneEntered:N},{default:j(()=>[n("a-assets",null,[n("video",{id:"avocado-video",preload:"auto",width:"160",height:"90",loop:"true",src:("usePublic"in s?s.usePublic:a(de))("assets/videos/avocado.mp4"),crossorigin:"anonymous"},null,8,ke)]),xe,n("a-entity",Ee,[n("a-sphere",{ref_key:"ballAbove",ref:c,position:"0 10 -5",visible:"false",animation__mouseenter:"property: scale; startEvents: mouseenter; easing: easeInCubic; dur: 150; to: 0 0 0"},null,512),n("a-sphere",{ref_key:"ballLeft",ref:b,position:"-10 0 -5",visible:"false",animation__mouseenter:"property: scale; startEvents: mouseenter; easing: easeInCubic; dur: 150; to: 0 0 0"},null,512),n("a-sphere",{ref_key:"ballRight",ref:x,position:"10 0 -5",visible:"false",animation__mouseenter:"property: scale; startEvents: mouseenter; easing: easeInCubic; dur: 150; to: 0 0 0"},null,512),n("a-sphere",{ref_key:"ballBelow",ref:w,position:"0 -10 -5",visible:"false",animation__mouseenter:"property: scale; startEvents: mouseenter; easing: easeInCubic; dur: 150; to: 0 0 0"},null,512)]),n("a-entity",Se,[n("a-playback-video",{ref_key:"video",ref:S,src:"#avocado-video",position:"0 0 -10",rotation:"0 0 0",visible:"false"},null,512)]),n("a-entity",Ae,[n("a-image",{ref_key:"playButton",ref:u,src:"https://res.cloudinary.com/dxbh0pppv/image/upload/c_scale,h_512,q_10/v1471016296/play_wvmogo.png",animation__mouseenter_scale:"property: scale; startEvents: mouseenter; easing: easeInCubic; dur: 200; to: 1.1 1.1 1.1",animation__mouseenter_color:"property: material.color; startEvents: mouseenter; easing: easeInCubic; dur: 200; to: #C2C2C2",animation__mouseleave_scale:"property: scale; startEvents: mouseleave; easing: easeInCubic; dur: 200; to: 1 1 1",animation__mouseleave_color:"property: material.color; startEvents: mouseleave; easing: easeInCubic; dur: 200; to: #FFFFFF",position:"0 1.6 -5",visible:"false"},null,512)]),Le]),_:1})])}}});function Ce(t,o=document){return o instanceof Document,o.querySelector(t)}function De(t,o=document){return Array.from(o.querySelectorAll(t))}function Ie(t){return document.createElement(t)}function je(t){return document.createElement(t)}function R(t){for(var o=document.getElementsByTagName("script"),r=o.length;r--;)if(o[r].src==t)return!0;return!1}function Be(t){if(R(t))return!1;const o=document.createElement("script");return o.src=t,o.type="text/javascript",document.head.appendChild(o),!0}const Pe={querySelector:Ce,querySelectorAll:De,createElement:Ie,createEntity:je,isScriptLoaded:R,addScript:Be},Oe={class:"absolute h-full w-full flex justify-center items-center text-gray-400 dark:text-gray-500"},Fe=n("div",{class:"ml-4 text-4xl font-bold"},"LOADING...",-1),qe=D({__name:"AFrameScene",props:{loadSystems:{type:Function},attributes:null,startButtonText:null,startTitle:null,startDescription:null,hideTutorial:{type:Boolean},alwaysShowOverlay:{type:Boolean}},emits:["sceneEntered"],setup(t,{emit:o}){const r=t,f=l(!1),v=l(!1),g=l(!r.hideTutorial),c=l();let w=!1,x=!1;Z(c,(u,h)=>{u!=null&&u.addEventListener("loaded",()=>{if(!c.value)return;const d=c.value.querySelector("[camera]");d&&(d.getAttribute("look-controls").enabled&&(w=!0,d.setAttribute("look-controls","enabled",!1)),d.getAttribute("wasd-controls").enabled&&(x=!0,d.setAttribute("wasd-controls","enabled",!1)),u.pause(),v.value=!0)})}),z(async()=>{await E(()=>import("./aframe-master.5ce7d00f.js").then(h=>h.a),[],import.meta.url),Pe.addScript("https://raw.githack.com/AR-js-org/AR.js/master/aframe/build/aframe-ar.js");async function u(){await E(()=>import("./animated-cursor.9ef67c42.js"),[],import.meta.url),await E(()=>import("./video.7397a06e.js"),["./video.7397a06e.js","./component.decorator.a66a1cbe.js","./aframe-master.5ce7d00f.js","./test-helpers.473cda21.js","./three.de5e62c0.js","./entry.f035b624.js","./entry.1279f46f.css"],import.meta.url),await E(()=>import("./button.1840a07b.js"),["./button.1840a07b.js","./component.decorator.a66a1cbe.js","./aframe-master.5ce7d00f.js","./test-helpers.473cda21.js"],import.meta.url),await E(()=>import("./audio-player.e460881e.js"),["./audio-player.e460881e.js","./component.decorator.a66a1cbe.js","./aframe-master.5ce7d00f.js","./test-helpers.473cda21.js","./entry.f035b624.js","./entry.1279f46f.css"],import.meta.url),await E(()=>import("./slide-show.19e4b315.js"),["./slide-show.19e4b315.js","./component.decorator.a66a1cbe.js","./aframe-master.5ce7d00f.js","./test-helpers.473cda21.js","./three.de5e62c0.js","./entry.f035b624.js","./entry.1279f46f.css"],import.meta.url)}await u(),r.loadSystems&&await r.loadSystems(),f.value=!0});function b(u){if(!c.value)return;const h=c.value.querySelector("[camera]");if(!h)return;w&&h.setAttribute("look-controls","enabled",!0),x&&h.setAttribute("wasd-controls","enabled",!0);const d=c.value.querySelectorAll("video");if(u)for(let p of d)p.play(),p.pause();o("sceneEntered")}function S(){g.value=!1}return(u,h)=>{const d=ie,p=oe,y=ue,T=ne;return m(),I(T,null,{default:j(()=>[a(g)?k("",!0):(m(),_($,{key:0},[n("div",{class:L(["absolute h-full w-full z-20 transition ease-in-out duration-1000 bg-gray-200 dark:bg-gray-900 pointer-events-none",{"opacity-0":a(v)}])},[C(d,{class:"absolute h-full w-full"}),n("div",Oe,[C(p,{name:"i-heroicons-arrow-path",class:"animate-spin text-4xl"}),Fe])],2),a(v)?(m(),I(y,{key:0,"start-button-text":t.startButtonText,"start-title":t.startTitle,"start-description":t.startDescription,"always-show-overlay":t.alwaysShowOverlay,onSceneEntered:b},null,8,["start-button-text","start-title","start-description","always-show-overlay"])):k("",!0),a(f)?(m(),_("a-scene",ee({key:1,"device-orientation-permission-ui":"enabled: false",ref_key:"scene",ref:c},t.attributes,{embedded:"",class:"absolute w-full h-full","loading-screen":"enabled: false"}),[te(u.$slots,"default")],16)):k("",!0)],64)),a(g)?(m(),I(Te,{key:1,class:"absolute",onFinished:S})):k("",!0)]),_:3})}}});export{qe as _,Te as a,je as c,Pe as d,Ce as q,de as u};
