var d=Object.defineProperty;var x=(o,t,e)=>t in o?d(o,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):o[t]=e;var l=(o,t,e)=>(x(o,typeof t!="symbol"?t+"":t,e),e);import{c as m,B as h}from"./component.decorator.a66a1cbe.js";import{b as c}from"./aframe-master.5ce7d00f.js";import"./test-helpers.473cda21.js";import"./aframe-troika-text.a1ae5908.js";import{d as A}from"./AFrameScene.vue.60d76b1c.js";import"./entry.57d36e4c.js";import"./usePublic.a7135be0.js";var y=Object.defineProperty,g=Object.getOwnPropertyDescriptor,E=(o,t,e,i)=>{for(var r=i>1?void 0:i?g(t,e):t,s=o.length-1,a;s>=0;s--)(a=o[s])&&(r=(i?a(t,e,r):a(r))||r);return i&&r&&y(t,e,r),r},u;let b=(u=class extends h{init(){this.update()}update(){this.el.hasAttribute("material")&&this.el.setAttribute("material","opacity",this.data.opacity);const o=t=>{Array.from(t.children).forEach(i=>{if(i!=this.el&&i.hasAttribute&&i.hasAttribute("group-opacity")&&i.getAttribute("group-opacity").inherit){i.setAttribute("group-opacity","opacity",this.data.opacity);return}i.hasAttribute&&i.hasAttribute("material")&&i.setAttribute("material","opacity",this.data.opacity),o(i)})};o(this.el)}},l(u,"schema",{opacity:{default:1},inherit:{default:!0}}),u);b=E([m("group-opacity")],b);var O=Object.defineProperty,C=Object.getOwnPropertyDescriptor,P=(o,t,e,i)=>{for(var r=i>1?void 0:i?C(t,e):t,s=o.length-1,a;s>=0;s--)(a=o[s])&&(r=(i?a(t,e,r):a(r))||r);return i&&r&&O(t,e,r),r},n;let f=(n=class extends h{init(){this.update()}update(){this.el.hasAttribute("material")&&this.el.setAttribute("material","color",this.data.color);const o=t=>{t.hasAttribute("material")&&t.setAttribute("material","color",this.data.color),Array.from(t.children).forEach(e=>{if(e!=this.el&&e.hasAttribute&&e.hasAttribute("group-color")&&e.getAttribute("group-color").inherit){e.setAttribute("group-color","color",this.data.color);return}o(e)})};o(this.el)}},l(n,"schema",{color:{type:"color"},inherit:{default:!0}}),n);f=P([m("group-color")],f);var F=Object.defineProperty,w=Object.getOwnPropertyDescriptor,j=(o,t,e,i)=>{for(var r=i>1?void 0:i?w(t,e):t,s=o.length-1,a;s>=0;s--)(a=o[s])&&(r=(i?a(t,e,r):a(r))||r);return i&&r&&F(t,e,r),r},p;let v=(p=class extends h{constructor(){super(...arguments);l(this,"animDuration",200);l(this,"animEasing","easeOutCubic");l(this,"textElem")}init(){this.el.addEventListener("componentchanged",t=>{t.detail.name==="visible"&&this.updateClickable()}),this.updateClickable(),this.updateAnimations(),this.data.text!=""&&(this.textElem=A.createEntity("a-troika-text"),this.textElem.setAttribute("value",this.data.text),this.textElem.setAttribute("color",this.data.textColor),this.textElem.setAttribute("position",{x:0,y:0,z:.001}),this.el.append(this.textElem))}updateClickable(){const t=this.el.getAttribute("visible");this.el.classList.contains("clickable")?t||this.el.classList.remove("clickable"):t&&this.el.classList.add("clickable")}updateAnimations(t=this.animDuration,e=this.animEasing){this.el.setAttribute("animation__mouseenter_color",{property:"material.color",to:"#b0b0b0",startEvents:"mouseenter",dur:t,easing:e}),this.el.setAttribute("animation__mouseleave_color",{property:"material.color",to:"#FFFFFF",startEvents:"mouseleave",dur:t,easing:e}),this.el.setAttribute("animation__mouseclick_color",{property:"material.color",from:"#828282",to:"#b0b0b0",startEvents:"click",dur:t,easing:e}),this.textElem&&(this.textElem.setAttribute("animation__mouseenter_textopacity",{property:"troika-text.fillOpacity",to:.8,startEvents:"mouseenter",dur:t,easing:e}),this.textElem.setAttribute("animation__mouseleave_textopacity",{property:"troika-text.fillOpacity",to:1,startEvents:"mouseleave",dur:t,easing:e}),this.textElem.setAttribute("animation__mouseclick_textopacity",{property:"troika-text.fillOpacity",from:.5,to:.8,startEvents:"click",dur:t,easing:e}))}},l(p,"schema",{text:{default:""},textColor:{type:"color"}}),l(p,"dependencies",["geometry","material"]),p);v=j([m("button")],v);function _(){return c.utils.extendDeep({},c.primitives.getMeshMixin(),{defaultComponents:{geometry:{primitive:"plane"},material:{color:"#FFF",shader:"flat",side:"double",transparent:!0},button:{}},mappings:{height:"geometry.height",width:"geometry.width"}})}AFRAME.registerPrimitive("a-button",_());AFRAME.registerPrimitive("a-text-button",c.utils.extendDeep({},{mappings:{label:"button.text","label-color":"button.textColor"}},_()));export{v as ButtonComponent};
